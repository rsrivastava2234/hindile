<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hindile</title>
    <style>
        .autoComplete_wrapper{display:inline-block;position:relative}.autoComplete_wrapper>input{width:100%;height:100%;padding-left:20px;font-size:1rem;color:#7b7b7b;border-radius:8px;border:0;outline:0;background-color:#f1f3f4}.autoComplete_wrapper>input::placeholder{color:rgba(0, 0, 0, 0.5);transition:all .3s ease}.autoComplete_wrapper>ul{position:absolute;max-height:226px;overflow-y:scroll;top:100%;left:0;right:0;padding:0;margin:.5rem 0 0 0;border-radius:.6rem;background-color:#fff;box-shadow:0 3px 6px rgba(149,157,165,.15);border:1px solid rgba(33,33,33,.07);z-index:1000;outline:0}.autoComplete_wrapper>ul:empty,.autoComplete_wrapper>ul[hidden]{display:block;opacity:0;transform:scale(0)}.autoComplete_wrapper>ul>li{margin:.3rem;padding:.3rem .5rem;list-style:none;text-align:left;font-size:1rem;color:#212121;transition:all .1s ease-in-out;border-radius:.35rem;background-color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .2s ease}.autoComplete_wrapper>ul>li::selection{color:rgba(#fff,0);background-color:rgba(#fff,0)}.autoComplete_wrapper>ul>li:hover{cursor:pointer;background-color:rgba(123,123,123,.1)}.autoComplete_wrapper>ul>li mark{background-color:transparent;color:#ff7a7a;font-weight:700}.autoComplete_wrapper>ul>li mark::selection{color:rgba(#fff,0);background-color:rgba(#fff,0)}.autoComplete_wrapper>ul>li[aria-selected=true]{background-color:rgba(123,123,123,.1)}@media only screen and (max-width:600px){.autoComplete_wrapper>input{width:18rem}}
    </style>

</head>
<body style="background-color: lightsteelblue;">
    <div id="end screen" hidden=true>
        <h1 style="display: flex; justify-content: center;">Hindile</h1>
        <h2 style="display: flex; justify-content: center;">Song Guessing Game</h2>
        <div style="width:50%;height:50%; position: absolute; left: 50%; top: 50%; padding-left: 10%; display: inline-block; transform: translate(-50%, -50%);">
            <h4 id="end text"></h4>
            <button onclick="share()" style="width:70%; height: 10%; position: absolute; top: 50%;">Share</button>
            <button onclick="refresh()" style="width: 70%; height: 10%; display: flex; justify-content: center;">Go back to the main page</button>
        </div>
        <script>
            function refresh(){
                window.location.reload();
            }
        </script>
    </div>
    <div id="difficulty selector">
        <h1 style="display: flex; justify-content: center;">Hindile</h1>
        <h2 style="display: flex; justify-content: center;">Song Guessing Game</h2>
        <div style="width:50%;height:50%; position: absolute; left: 50%; top: 50%; padding-left: 10%; display: inline-block; transform: translate(-50%, -50%); background-color: white;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        text-align: center;">
            <button style="position: absolute; left: 20%; top: 50%; transform: translate(-50%,-50%);" onclick="easy()">Easy</button>
            <button style="position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%);" onclick="medium()">Medium</button>
            <button style="position: absolute; left: 80%; top: 50%; transform: translate(-50%,-50%);" onclick="hard()">Hard</button>
        </div>    
    </div>
    <div id="guess button wrapper" hidden=true>
    <table style="width: 100%;" border="0" >
        <tr></tr>
        <td style="text-align: center; font-size: x-large; background-color:lightsteelblue;">Hindile</td>
        <tr></tr>
        <td style="text-align: center; font-size: x-large;" id="1"></td>
        <tr></tr>
        <td style="text-align: center; font-size: x-large;" id="2"></td>
        <tr></tr>
        <td style="text-align: center; font-size: x-large;" id="3"></td>
        <tr></tr>
        <td style="text-align: center; font-size: x-large;" id="4"></td>
        <tr></tr>
        <td style="text-align: center; font-size: x-large;" id="5"></td>
        <tr></tr>
        
    </table>
    <button onclick="c()" style="position: absolute; left: 20%; top: 35%; font-size: 3vw;  background-color: white;
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    text-align: center;">Guess</button>
    <button onclick="p()" style="position: absolute; left: 50%; top: 35%; font-size: 3vw; transform: translate(-50%,0%);  background-color: white;
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    text-align: center;" id="stop">Play Audio</button>
    <button onclick="s()" style="position: absolute; left: 66%; top: 35%; font-size: 3vw;  background-color: white;
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    text-align: center;">Skip Guess</button>
    </div>
    <div id="search" class="autoComplete_wrapper" style="position: absolute; left: 50%; top: 40%; transform: translate(-50%, 0%); padding: 10px;" >
        <input id="autoComplete" type="search" dir="ltr" spellcheck=false autocorrect="off" autocomplete="on" autocapitalize="off" style="text-align: center; background-color: rgb(255, 255, 255);" hidden="true">
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.6/dist/autoComplete.min.js"></script>
    <script>
        function share(){
            if (didwin){
                navigator.share({title:"Hindile score", text:"I got the " + difficulty + " hindile in " + guessnum-1 + " guesses!", url: "rsrivastava2234.github.io"})
            }else{
                navigator.share({title:"Hindile score", text:"I couldn't get the " + difficulty + " hindile. Maybe you can!", url: "rsrivastava2234.github.io"})
            }
        }
        var answer = ""
        var difficulty = ""
        var difficultyoffset = 0.0
        function easy(){
            answer = "the disco song"
            difficulty = "easy"
            difficultyoffset = 2
            div1 = document.getElementById("difficulty selector")
            div1.hidden="true"
            div2 = document.getElementById("guess button wrapper")
            div2.hidden = false
            div3 = document.getElementById("autoComplete")
            div3.hidden = false
        }
        function medium(){
            answer = "haule haule"
            difficulty = "medium"
            difficultyoffset = 1.5
            div1 = document.getElementById("difficulty selector")
            div1.hidden="true"
            div2 = document.getElementById("guess button wrapper")
            div2.hidden = false
            div3 = document.getElementById("autoComplete")
            div3.hidden = false
        }
        function hard(){
            answer = "abhi toh party shuru hui hai"
            difficulty = "hard"
            difficultyoffset = 1.3
            div1 = document.getElementById("difficulty selector")
            div1.hidden="true"
            div2 = document.getElementById("guess button wrapper")
            div2.hidden = false
            div3 = document.getElementById("autoComplete")
            div3.hidden = false
        }
    </script>
    <script>
        guessnum = 1
        skipnum = 1
        function s(){
            skipnum++
            guessnum++
            document.getElementById((guessnum-1).toString()).textContent = "Skipped!"
        }
        function p(){
            stopper = document.getElementById('stop')
            stopper.hidden = true
            setTimeout(()=> {stopper.hidden = false}, Math.pow(difficultyoffset,(skipnum-1))*1000)
            audio = new Audio(difficulty+'.mp3')
            audio.play();
            setTimeout(() => {  audio.pause(); }, Math.pow(difficultyoffset,(skipnum-1))*1000);
        }
        var didwin;
        function c(){
            if (guessnum >= 5){
                alert('You lose! The answer was ' + answer)
                end_div = document.getElementById("end screen")
                end_div.hidden = false
                for (i=0; i<=10; i++){
                    end_div.top = (50-i).toString + "%"
                }
                div2 = document.getElementById("guess button wrapper")
                div2.hidden = true
                div3 = document.getElementById("autoComplete")
                div3.hidden = true
                didwin = false
            }else{
            x = document.getElementById('autoComplete').value
            if (x.toUpperCase() == answer.toUpperCase()){
                alert('Good Job! :)')
                end_div = document.getElementById("end screen")
                end_div.hidden = false
                div2 = document.getElementById("guess button wrapper")
                div2.hidden = true
                div3 = document.getElementById("autoComplete")
                div3.hidden = true
                didwin = true
            }else{
                alert("wow you so baddddd")
            }
            document.getElementById(guessnum.toString()).textContent = x
            document.getElementById(guessnum.toString()).style = 'text-align: center; font-size: xx-large; background-color:lightsteelblue;'
            guessnum++
        }}
        const autoCompleteJS = new autoComplete({
            placeHolder: "song goes here...",
            data:{
                src:['']
            },    
        })
    </script>
</body>
</html>
